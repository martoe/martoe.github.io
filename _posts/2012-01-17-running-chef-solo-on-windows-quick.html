---
layout: post
title: 'Running Chef-Solo on Windows: A quick guide'
date: '2012-01-17T09:51:00.000+01:00'
author: martin
tags:
- devops
modified_time: '2012-04-15T10:30:56.419+02:00'
blogger_id: tag:blogger.com,1999:blog-987786588703208935.post-2846902778304306452
blogger_orig_url: http://bxm-dev.blogspot.com/2012/01/running-chef-solo-on-windows-quick.html
---

Today I decided to take a look at <a href="http://wiki.opscode.com/">Chef</a> (you know, this <a href="https://en.wikipedia.org/wiki/Configuration_management">Infrastructure-as-code</a> stuff) and see what it can do for me.<br />Sadly, installing a standalone version (“<a href="http://wiki.opscode.com/display/chef/Chef+Solo">Chef Solo</a>”) on a Windows box is not that simple, even if there are <a href="http://wiki.opscode.com/display/chef/Fast+Start+Guide+for+Windows">some instructions</a> available. So, here is a step-by-step guide of what I did:<br /><ol><li><a href="http://wiki.opscode.com/display/chef/Installing+Chef+Client+on+Windows">Install the Chef client</a> (it is only available as an <a href="http://opscode.com/chef/install.msi">.MSI</a> file – I would prefer a .ZIP or such, since the installer just copies a few files and modifies the PATH variable)  </li><li>Create a Chef repository:<br /><div class="wlWriterEditableSmartContent" id="scid:f32c3428-b7e9-4f15-a8ea-c502c7ff2e88:9b073d1b-b2ee-44bb-b321-a49ea92fe9d3" style="display: inline; float: none; margin: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><pre class="brush: bash;">&gt; git clone git://github.com/opscode/chef-repo.git<br />&gt; cd chef-repo</pre></div>Yes, this requires a <a href="https://code.google.com/p/msysgit/">Git client</a>… </li><li>Configure <a href="http://wiki.opscode.com/display/chef/Knife">Knife</a> (the commandline interface) by creating the file <span style="color: blue; font-family: Courier New;">.chef/knife.rb</span>:<br /><div class="wlWriterEditableSmartContent" id="scid:f32c3428-b7e9-4f15-a8ea-c502c7ff2e88:f5542d47-ee8a-490b-8bf5-e545b856d3e8" style="display: inline; float: none; margin: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><pre class="brush: ruby;">root = File.absolute_path(File.dirname(__FILE__))<br />cookbook_path root + '/../cookbooks'</pre></div></li><li>Download a sample cookbook: <div class="wlWriterEditableSmartContent" id="scid:f32c3428-b7e9-4f15-a8ea-c502c7ff2e88:c0bdcd87-31f8-46ff-b0bb-9325c83a31c5" style="display: inline; float: none; margin: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><pre class="brush: bash;">&gt; cd cookbooks<br />&gt; knife cookbook site download getting-started<br />&gt; tar zxvf getting-started-0.3.0-tar.gz<br />&gt; del getting-started-0.3.0-tar.gz</pre></div></li><li>Configure <a href="http://wiki.opscode.com/display/chef/Chef+Solo">Chef-Solo</a> by creating the files <span style="color: blue; font-family: Courier New;">.chef/solo.rb</span>…<br /><div class="wlWriterEditableSmartContent" id="scid:f32c3428-b7e9-4f15-a8ea-c502c7ff2e88:2b359f50-8fcb-411b-8840-1b6d1c276fb1" style="display: inline; float: none; margin: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><pre class="brush: ruby;">root = File.absolute_path(File.dirname(__FILE__))<br />file_cache_path root + '/..'<br />cookbook_path root + '/../cookbooks'</pre></div>…and <span style="color: blue; font-family: Courier New;">.chef/solo.json</span>:<br /><div class="wlWriterEditableSmartContent" id="scid:f32c3428-b7e9-4f15-a8ea-c502c7ff2e88:72401d5f-a516-4ba0-afad-c0fe2a06c4fd" style="display: inline; float: none; margin: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><pre class="brush: ruby;">{<br /> "run_list": [ "recipe[getting-started::default]" ]<br />}</pre></div></li><li>Run the recipe:<br /><div class="wlWriterEditableSmartContent" id="scid:f32c3428-b7e9-4f15-a8ea-c502c7ff2e88:06ecf952-34cd-480f-acc8-50f3e7d835e0" style="display: inline; float: none; margin: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><pre class="brush: bash;">&gt; chef-solo -c .chef/solo.rb -j .chef/solo.json</pre></div>...which creates a "chef-getting-started.txt" file in your home directory.</li></ol><br />Now you can create your own cookbook (“knife cookbook create my_cookbook”) and start <a href="http://wiki.opscode.com/display/chef/Resources">cooking</a>…