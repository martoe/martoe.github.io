---
layout: post
title: CONFESS 2013 – Day 2
date: '2013-04-05T09:11:00.001+02:00'
author: martin
tags:
- shownotes
modified_time: '2013-04-05T09:11:39.338+02:00'
blogger_id: tag:blogger.com,1999:blog-987786588703208935.post-4951496365904880102
blogger_orig_url: http://bxm-dev.blogspot.com/2013/04/confess-2013-day-2.html
category: dev
---

<h2>David&nbsp; Blevins – Apache TomEE</h2> <p><a href="http://tomee.apache.org/">Apache TomEE</a> integrates various Apache libraries into Tomcat to make it a JavaEE 6 Web Profile certified server. It is very small and 100% Tomcat compatible (every application that runs in Tomcat also runs in TomEE).</p> <p>The advantages of using TomEE instead of manually assembling all libraries: the integration is well-tested, there are no duplicate classes, it is actually faster than adding the needed libraries manually.</p> <ul> <li>There are also some special editions of TomEE that contain additional components which are not part of the Web Profile (namely JX-RS, JAX-WS, JMS, and JCA)</li> <li>Side note: with JavaEE 6, you may not (and probably should not) use EAR files, but put everything (EJBs and stuff) directly into the web-app.</li> <li>Recommendation: use <a href="http://arquillian.org/">Arquillian</a> for testing (TomEE has a big Arquillian test suite)</li> <li>JPA is easy to integrate (which means that it is possible to replace <a href="http://openjpa.apache.org/">OpenJPA</a> with Hibernate), other parts are not easy to change (like JSF, CDI)</li></ul> <h2>Matthias Wessendorf (Redhat) – Mobile Web apps with HTML5 and JavaEE</h2> <p>This talk covered an introduction to the type of mobile applications (native, plain web, and hybrid), some JavaScript framework overview, and of course <a href="http://aerogear.org">AeroGear</a> (a JBoss community project for mobile development – both HTML5 and native – which Matthias is currently working on)</p> <ul> <li><strong>Native apps</strong>: a problem here is the time to market (e.g. the Appstore approval takes two weeks, and not all users install updates immediately)</li> <li><strong>Plain web apps</strong>: often don’t have a very good user experience (e.g. when facing connection problems).</li> <li>Side note: Have a look at the simple <a href="http://html5-aerogear.rhcloud.com/">AeroGear example application for plain HTML5</a> (a single webpage based on jQuery, jQueryMobile, and JAX-RS)</li> <li><strong>Hybrid apps</strong>: the de-facto standard here is <a href="http://cordova.apache.org/">Apache Cordova</a> (former known as PhoneGap, donated by Adobe). Reference app: <a href="https://github.com/wikimedia/WikipediaMobile">Wikipedia</a>. Cordova bundles HTML5 apps in a native shell (using an embedded browser, provides some bridging functions and a plugin API)</li></ul> <p>There are a lot of JavaScript frameworks out there that try to ease the pain of writing mobile web apps, for example:</p> <ul> <li><a href="http://jquery.com/">jQuery</a> (low-level, not “framework-ish”)</li> <li><a href="http://backbonejs.org/">Backbone.js</a> (simple and lightweight; well-structured; real web development – doesn’t hide the DOM like e.g. GWT does)</li> <li>alternatives to Backbone are e.g. <a href="http://angularjs.org/">angularJS</a> (more like component-based), <a href="http://emberjs.com/">Ember.js</a>,… and <a href="http://vanilla-js.com/">vanilla.js</a> ;)</li></ul> <h2>David Tanzer – Offline Web Applications</h2> <p>David states that many reasons why to build native apps instead of web apps (like native phone features, speed, offline mode) are not that valid anymore. Modern web applications are running the presentation logic on the client, which opens the door for offline features.</p> <p>The basic steps to make a web application offline available are:</p> <ul> <li>Define which application resources must be available offline – and cache them (HTML5 <a href="http://en.wikipedia.org/wiki/Cache_manifest_in_HTML5">cache manifest</a>, which doesn’t work in IE earlier than 10)</li> <li>Cache the application data: <a href="http://en.wikipedia.org/wiki/Indexed_Database_API">Indexed DB</a> (JavaScript object database, not supported on all browsers – see <a href="http://nparashuram.com/IndexedDB/">here</a> and <a href="http://www.peterkroener.de/indexed-db-die-neue-html5-datenbank-im-browser-teil-2-browsermacken-tools-und-polyfills/">here</a>)</li> <li>Synchronize when online (which is a potentially complex task, e.g. three-way-merge)</li></ul> <p>The conclusion is that offline web apps can currently be implemented only in restricted environments (because it is nearly impossible to find a solution that runs on all major browsers), and the implementation is fairly complex.</p> <ul> <li>Side note: <a href="http://www.codinghorror.com/blog/2007/07/the-principle-of-least-power.html">Atwood’s law</a> ;)</li> <li>Resources: <a title="http://davidtanzer.net/confess13" href="http://davidtanzer.net/confess13">http://davidtanzer.net/confess13</a></li></ul> <h2>Thomas Sundberg – Clean Code</h2> <p>A very unagitated talk about code quality. I liked Thomas’ style very much (even if some claimed that it made them feel “sleepy”). He didn’t explain what “clean code” is or how to write clean code, it was more like a friendly reminder that there <em>is</em> something called “clean code” and you should think of it more often (and leave the campground cleaner than you found it).</p> <p>Some quotes:</p> <ul> <li>It’s all about maintenance – “easy to read” is the most important property of code</li> <li>…about properties of a good test: No conditions; no repetition; clean setup; simple code (i.e. only one path)</li> <li>…about naming: use domain names instead of technical terms; one word per concept; pronounceable names; no useless prefixes/suffixes</li> <li>…about comments: Don’t comment bad code – rewrite it. Explain yourself in code. Comment only if really necessary.</li> <li>Test-code is most important (production code can always be fixed)</li></ul> <h2>Axel Fontaine – Flyway</h2> <p>Axel is the mastermind behind <a href="http://flywaydb.org/">Flyway</a>. Even though this is an introductory talk (and I am already using Flyway on my current project), there were some noteworthy things: </p> <ul> <li>He recommends to always migrate automatically on startup (e.g. the Hibernate session factory <a href="http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/context/annotation/DependsOn.html">@DependsOn</a> the flyway migration) – Flyway automatically performs some locking if multiple nodes access the same database.</li> <li>Flyway now also supports Java-based migrations</li> <li>Another recommendation: Always use backwards-compatible migrations (Example: renaming a column means: add column, copy data, and install a trigger. In the next step, delete trigger and old column).</li> <li>Book: <a href="http://databaserefactoring.com/">Refactoring Databases</a> (a few years old, but most stuff is still valid)</li> <li>Flyway’s primary “competitor” is <a href="http://www.liquibase.org/">Liquibase</a> , which offers more features, but is also more complex.</li></ul> <h2>Andres Almiray – Functional Groovy</h2> <p>Groovy offers some concepts which are kind of “<a href="http://groovy.codehaus.org/Functional+Programming+with+Groovy">functional</a>” (but the main intention is – as always with Groovy – to make a developer’s life easier). Some things to remember:</p> <ul> <li>Closures are functions, but they are not side-effect free (by design)!</li> <li>Partial evaluation is possible with the <a href="http://groovy.codehaus.org/api/groovy/lang/Closure.html#curry%28java.lang.Object...%29">curry()</a> method</li> <li>Treat objects as functions with the call() method</li> <li>Turning methods into functions: &amp; (ampersand)</li> <li>Create immutable objects with <a href="http://groovy.codehaus.org/gapi/groovy/transform/Immutable.html">@Immutable</a></li> <li>Side note: add the <a href="http://groovy.codehaus.org/api/groovy/lang/Grab.html">@Grab</a> annotation to an import statement to automatically download and add a dependency to the classpath. Nice for self-contained scripts…</li></ul>  