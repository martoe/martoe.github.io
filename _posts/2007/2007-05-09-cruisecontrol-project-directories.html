---
layout: post
title: 'CruiseControl: Project directories'
date: '2007-05-09T09:53:00.000+02:00'
author: martin
tags:
- CI
modified_time: '2012-04-17T00:09:49.825+02:00'
blogger_id: tag:blogger.com,1999:blog-987786588703208935.post-4761100554143681864
blogger_orig_url: http://bxm-dev.blogspot.com/2007/05/cruisecontrol-project-directories.html
---

<p>I just wanted to configure CruiseControl 2.6.2 so that every project will have its own directory, but it looks like there is no simple way to do that...</p><p>To have all things of a project in one place, I would like to have a directory structure like:</p><blockquote><pre class="brush:xml"><br />config.xml<br />projects<br />  +-- myfirstproject<br />        +-- artifacts<br />        +-- logs<br />        +-- work<br />  +-- mysecondproject<br />        +-- artifacts<br />        +-- logs<br />        +-- work<br /></pre></blockquote><br /><br /><br /><p>First, the website expects the logfiles and artifacts in the "artifacts/[projectname]" resp. "logs/[projectname]" directories. Since I don't want to change the website, I have to accept that. So this is the directory structure:</p><br /><br /><blockquote><pre class="brush:xml"><br />config.xml<br />  +-- artifacts<br />        +-- myfirstproject<br />        +-- mysecondproject<br />  +-- logs<br />        +-- myfirstproject<br />        +-- mysecondproject<br />projects<br />  +-- myfirstproject<br />        +-- work<br />  +-- mysecondproject<br />        +-- work<br /></pre></blockquote><br /><br /><p>I definitly need different working directories for two reasons:</p><br /><ul><br /><li>Some (Maven-based) projects require an initial CVS checkout (that will be CVS-updated during the build), so I must not clean the working directory before building</li><br /><li>I am running CruiseControl with two threads, so parallel builds would interfere which each other</li><br /></ul><br /><p>Since there is no "project basedir" tag, I specified the working dir right in the builder statements, for example:</p><br /><br /><blockquote><br /><p>&lt;ant antscript="ant.bat" antWorkingDir="projects/myfirstproject" uselogger="true" saveLogDir="projects/myfirstproject/work"/&gt;</p><br /></blockquote><br /><br /><p><b>Question:</b><br /><br />Where do you have to place the "ant.bat" file? In the root directory or in the "projects/myfirstproject" directory?<br /><br /><b>Answer: In both!</b><br /><br />Seems like CruiseControl checks if the file exists in "projects/myfirstproject", but then executes it from the root dir...<br /><br /><b>Workaround:</b><br /><br />Include the absolute path, like:</p><br /><br /><blockquote><br /><p>&lt;ant antscript="d:/builds/ant.bat" antWorkingDir="projects/myfirstproject" uselogger="true" saveLogDir="projects/myfirstproject/work"/&gt;</p><br /></blockquote><br /><br /><p>Too many ugly things so early in the morning, gotta get some coffee ;-)</p><br /><div class="item_footer"><p><small><a href="http://bxm.at/blogs/java/cruisecontrol_project_directories">Original post</a> blogged on <a href="http://b2evolution.net/">b2evolution</a>.</small></p></div>